<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micro Chat</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>üöÄ Micro Chat</h1>
        
        <!-- –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div class="card" id="authStatus">
            <p>–°—Ç–∞—Ç—É—Å: <span id="status">–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</span></p>
            <button onclick="logout()" id="logoutBtn" style="display:none; margin-top: 10px;">üö™ –í—ã–π—Ç–∏</button>
        </div>

        <!-- ‚úÖ –î–û–ë–ê–í–ò–õ–ò –ö–õ–ê–°–°: guest-only - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
        <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
        <div class="card guest-only">
            <h2>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerForm">
                <input type="text" id="reg_name" placeholder="–ò–º—è" required>
                <input type="email" id="reg_email" placeholder="Email" required>
                <input type="password" id="reg_password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <input type="password" id="reg_password_confirm" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
            <div id="registerResult"></div>
        </div>

        <!-- –í—Ö–æ–¥ -->
        <div class="card guest-only">
            <h2>üîê –í—Ö–æ–¥</h2>
            <form id="loginForm">
                <input type="email" id="login_email" placeholder="Email" required>
                <input type="password" id="login_password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–í–æ–π—Ç–∏</button>
            </form>
            <div id="loginResult"></div>
        </div>

        <!-- –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) -->
        <div class="card protected-content" style="display:none;">
            <h2>‚ûï –°–æ–∑–¥–∞—Ç—å —á–∞—Ç</h2>
            <form id="createChatForm">
                <input type="text" id="chat_usernames" placeholder="–ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" required>
                <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
            <div id="chatResult"></div>
        </div>

        <!-- –ú–æ–∏ —á–∞—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) -->
        <div class="card protected-content" style="display:none;">
            <h2>üì¨ –ú–æ–∏ —á–∞—Ç—ã</h2>
            <button onclick="loadMyChats()">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–∞—Ç—ã</button>
            <div id="myChats"></div>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
        <div class="card protected-content" style="display:none;">
            <h2>üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
            <button onclick="loadUserInfo()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</button>
            <div id="userInfo"></div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>