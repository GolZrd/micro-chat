<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micro Chat - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container" id="appContainer">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar">
            <!-- –õ–æ–≥–æ—Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <div class="app-logo">
                <i class="fas fa-rocket"></i>
                <span>Micro Chat</span>
            </div>
            
            <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="user-profile-section">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-info">
                    <div class="user-name" id="userName">–ì–æ—Å—Ç—å</div>
                    <div class="user-status">
                        <span class="status-indicator offline" id="statusIndicator"></span>
                        <span id="statusText">–ù–µ –≤ —Å–µ—Ç–∏</span>
                    </div>
                </div>
            </div>
            
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" onclick="showSection('home'); return false;">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="#" class="nav-item protected-nav" onclick="showSection('chats'); return false;" style="display:none;">
                    <i class="fas fa-comments"></i>
                    <span>–ú–æ–∏ —á–∞—Ç—ã</span>
                    <span class="badge" id="chatCount">0</span>
                </a>
                <a href="#" class="nav-item protected-nav" onclick="showSection('profile'); return false;" style="display:none;">
                    <i class="fas fa-user"></i>
                    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                </a>
            </nav>
            
            <!-- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å sidebar -->
            <div class="sidebar-footer">
                <button onclick="logout()" id="logoutBtn" class="logout-btn" style="display:none;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>–í—ã–π—Ç–∏</span>
                </button>
                
                <div class="app-version">
                    <small>v1.0.0</small>
                </div>
            </div>
        </aside>
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –°–µ–∫—Ü–∏—è: –ì–ª–∞–≤–Ω–∞—è -->
            <section id="homeSection" class="content-section active">
                <div class="section-header">
                    <h1>
                        <i class="fas fa-rocket"></i>
                        <span id="welcomeTitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Micro Chat</span>
                    </h1>
                    <p class="subtitle" id="welcomeSubtitle">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—â–µ–Ω–∏—è</p>
                </div>
                
                <!-- –ù–û–í–ê–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ê–ï–ú–ê–Ø –§–û–†–ú–ê –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
                <div class="guest-only">
                    <div class="auth-container">
                        <div class="auth-tabs">
                            <button class="tab-btn active" onclick="switchAuthTab('login')">–í—Ö–æ–¥</button>
                            <button class="tab-btn" onclick="switchAuthTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                        </div>
                        
                        <!-- –¢–∞–± –≤—Ö–æ–¥–∞ -->
                        <div id="loginTab" class="auth-tab active">
                            <div class="card">
                                <h2><i class="fas fa-sign-in-alt"></i> –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
                                <form id="loginForm">
                                    <input type="email" id="login_email" placeholder="üìß Email" required>
                                    <input type="password" id="login_password" placeholder="üîí –ü–∞—Ä–æ–ª—å" required>
                                    <button type="submit">
                                        <i class="fas fa-arrow-right"></i> –í–æ–π—Ç–∏
                                    </button>
                                </form>
                                <div id="loginResult"></div>
                            </div>
                        </div>
                        
                        <!-- –¢–∞–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                        <div id="registerTab" class="auth-tab">
                            <div class="card">
                                <h2><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                                <form id="registerForm">
                                    <input type="text" id="reg_username" placeholder="üë§ –ò–º—è" required>
                                    <input type="email" id="reg_email" placeholder="üìß Email" required>
                                    <input type="password" id="reg_password" placeholder="üîí –ü–∞—Ä–æ–ª—å" required>
                                    <input type="password" id="reg_password_confirm" placeholder="üîí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                                    <button type="submit">
                                        <i class="fas fa-check"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                                    </button>
                                </form>
                                <div id="registerResult"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
                <div class="quick-actions protected-content" style="display:none;">
                    <div class="action-card">
                        <i class="fas fa-plus-circle"></i>
                        <h3>–°–æ–∑–¥–∞—Ç—å —á–∞—Ç</h3>
                        <p>–ù–∞—á–Ω–∏—Ç–µ –Ω–æ–≤—É—é –±–µ—Å–µ–¥—É</p>
                        <button onclick="showCreateChatModal()" class="btn-primary">
                            –°–æ–∑–¥–∞—Ç—å
                        </button>
                    </div>
                    <div class="action-card">
                        <i class="fas fa-inbox"></i>
                        <h3>–ú–æ–∏ —á–∞—Ç—ã</h3>
                        <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</p>
                        <button onclick="showSection('chats')" class="btn-secondary">
                            –û—Ç–∫—Ä—ã—Ç—å
                        </button>
                    </div>
                    <div class="action-card">
                        <i class="fas fa-user-cog"></i>
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º</p>
                        <button onclick="showSection('profile')" class="btn-secondary">
                            –ü–µ—Ä–µ–π—Ç–∏
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- –°–µ–∫—Ü–∏—è: –ß–∞—Ç—ã -->
            <section id="chatsSection" class="content-section">
                <div class="section-header">
                    <h1><i class="fas fa-comments"></i> –ú–æ–∏ —á–∞—Ç—ã</h1>
                    <div class="header-actions">
                        <button onclick="loadMyChats()" class="btn-icon">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button onclick="showCreateChatModal()" class="btn-primary">
                            <i class="fas fa-plus"></i> –ù–æ–≤—ã–π —á–∞—Ç
                        </button>
                    </div>
                </div>
                
                <div id="myChats" class="chats-container">
                    <div class="loading">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–æ–≤...</p>
                    </div>
                </div>
            </section>
            
            <!-- –°–µ–∫—Ü–∏—è: –ü—Ä–æ—Ñ–∏–ª—å -->
            <section id="profileSection" class="content-section">
                <div class="section-header">
                    <h1><i class="fas fa-user"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                    <button onclick="loadUserInfo()" class="btn-icon">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                
                <div id="userInfo" class="profile-container">
                    <div class="loading">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</p>
                    </div>
                </div>
            </section>
        </main>

        <aside class="right-sidebar right-sidebar--friends protected-sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-user-friends"></i> –î—Ä—É–∑—å—è</h3>
                <button onclick="loadFriends()" class="refresh-btn" title="–û–±–Ω–æ–≤–∏—Ç—å">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>

            <!-- –ü–æ–∏—Å–∫ -->
            <div class="friend-search">
                <div class="search-input-wrapper">
                    <i class="fas fa-search"></i>
                    <input 
                        type="text" 
                        id="friendSearchInput" 
                        class="friend-search-input"
                        placeholder="–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..."
                        autocomplete="off"
                    >
                </div>
                <div id="searchResults" class="search-results"></div>
            </div>

            <div class="sidebar-content">
                <!-- –ó–∞—è–≤–∫–∏ -->
                <div id="friendRequestsSection" style="display: none;">
                    <div class="section-title">
                        <span>–ó–∞—è–≤–∫–∏</span>
                        <span class="badge" id="requestsBadge">0</span>
                    </div>
                    <div id="friendRequests"></div>
                </div>

                <!-- –í—Å–µ –¥—Ä—É–∑—å—è (–µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫) -->
                <div class="section-title">
                    <span>–î—Ä—É–∑—å—è</span>
                    <span class="count" id="totalFriendsCount">0</span>
                </div>
                <div id="friendsList"></div>
            </div>
        </aside>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞ -->
    <div id="createChatModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus-circle"></i> –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç</h2>
                <button onclick="closeCreateChatModal()" class="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="createChatForm">
                <label for="chat_name">
                <i class="fas fa-tag"></i> –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
                </label>
                <input type="text" id="chat_name" name="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–±–æ—á–∏–π —á–∞—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" maxlength="100">
                <label>–£—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞</label>
                <input type="text" id="chat_usernames" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" required>
                <small>–ù–∞–ø—Ä–∏–º–µ—Ä: user1, user2, user3</small>
                <div class="modal-actions">
                    <button type="button" onclick="closeCreateChatModal()" class="btn-secondary">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-check"></i> –°–æ–∑–¥–∞—Ç—å
                    </button>
                </div>
            </form>
            <div id="chatResult"></div>
        </div>
    </div>

    <!-- Templates -->
    <template id="friendItemTemplate">
        <div class="friend-item">
            <div class="friend-avatar">
                <span class="avatar-initials"></span>
                <span class="online-indicator offline"></span>
            </div>
            <div class="friend-info">
                <span class="friend-name"></span>
                <span class="friend-status">–ù–µ –≤ —Å–µ—Ç–∏</span>
            </div>
            <button class="btn-more" title="–î–µ–π—Å—Ç–≤–∏—è">
                <i class="fas fa-ellipsis-v"></i>
            </button>
        </div>
    </template>

    <!-- Dropdown –º–µ–Ω—é (–æ–¥–Ω–æ –Ω–∞ –≤—Å–µ—Ö, –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –∫ –Ω—É–∂–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É) -->
    <div id="friendDropdown" class="friend-dropdown">
        <button class="dropdown-item" data-action="chat">
            <i class="fas fa-comment"></i>
            <span>–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</span>
        </button>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item danger" data-action="remove">
            <i class="fas fa-user-minus"></i>
            <span>–£–¥–∞–ª–∏—Ç—å –∏–∑ –¥—Ä—É–∑–µ–π</span>
        </button>
    </div>

    <template id="friendRequestItemTemplate">
        <div class="request-item">
            <div class="request-avatar">
                <span class="avatar-initials"></span>
            </div>
            <div class="request-info">
                <span class="request-name"></span>
                <span class="request-date"></span>
            </div>
            <div class="request-actions">
                <button class="btn-icon btn-accept" title="–ü—Ä–∏–Ω—è—Ç—å">
                    <i class="fas fa-check"></i>
                </button>
                <button class="btn-icon btn-reject" title="–û—Ç–∫–ª–æ–Ω–∏—Ç—å">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </template>

    <template id="searchResultItemTemplate">
        <div class="search-result-item">
            <div class="result-avatar">
                <span class="avatar-initials"></span>
            </div>
            <div class="result-info">
                <span class="result-name"></span>
                <span class="result-status"></span>
            </div>
            <button class="btn-add-friend">
                <i class="fas fa-user-plus"></i>
            </button>
        </div>
    </template>

    <script src="/static/app.js"></script>
    <!-- <script src="/static/js/animated-background.js"></script> -->
    <script src="/static/js/liquid-gradient.js"></script>
    <!-- <script src="/static/js/starfall.js"></script> -->

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π
        function showSection(sectionName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // –£–±–∏—Ä–∞–µ–º active —É –≤—Å–µ—Ö nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
            switch(sectionName) {
                case 'home':
                    document.getElementById('homeSection').classList.add('active');
                    const homeNav = document.querySelector('.nav-item[onclick*="home"]');
                    if (homeNav) homeNav.classList.add('active');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                    if (TokenManager.isAuthenticated()) {
                        const username = TokenManager.getUsername();
                        document.getElementById('welcomeTitle').textContent = `–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${username}!`;
                        document.getElementById('welcomeSubtitle').textContent = '–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞';
                    } else {
                        document.getElementById('welcomeTitle').textContent = '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Micro Chat';
                        document.getElementById('welcomeSubtitle').textContent = '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—â–µ–Ω–∏—è';
                    }
                    break;
                case 'chats':
                    document.getElementById('chatsSection').classList.add('active');
                    const chatsNav = document.querySelector('.nav-item[onclick*="chats"]');
                    if (chatsNav) chatsNav.classList.add('active');
                    loadMyChats();
                    break;
                case 'profile':
                    document.getElementById('profileSection').classList.add('active');
                    const profileNav = document.querySelector('.nav-item[onclick*="profile"]');
                    if (profileNav) profileNav.classList.add('active');
                    loadUserInfo();
                    break;
            }
        }
        
        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞
        function showCreateChatModal() {
            document.getElementById('createChatModal').classList.add('active');
        }
        
        function closeCreateChatModal() {
            document.getElementById('createChatModal').classList.remove('active');
            document.getElementById('createChatForm').reset();
            document.getElementById('chatResult').innerHTML = '';
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function switchAuthTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            
            if (tab === 'login') {
                document.querySelector('.tab-btn:first-child').classList.add('active');
                document.getElementById('loginTab').classList.add('active');
            } else {
                document.querySelector('.tab-btn:last-child').classList.add('active');
                document.getElementById('registerTab').classList.add('active');
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ sidebar
        function updateAuthStatus() {
            const isAuth = TokenManager.isAuthenticated();
            const appContainer = document.getElementById('appContainer');
            const statusIndicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            const userNameEl = document.getElementById('userName');
            const logoutBtn = document.getElementById('logoutBtn');
            const protectedContent = document.querySelectorAll('.protected-content');
            const protectedNav = document.querySelectorAll('.protected-nav');
            const protectedSidebar = document.querySelectorAll('.protected-sidebar');
            const guestOnly = document.querySelectorAll('.guest-only');
            
            if (isAuth) {
                const username = TokenManager.getUsername();

                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ body
                document.body.classList.add('authenticated');

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º sidebar (—É–±–∏—Ä–∞–µ–º guest-mode)
                appContainer.classList.remove('guest-mode');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                statusIndicator.className = 'status-indicator online';
                statusText.textContent = '–í —Å–µ—Ç–∏';
                userNameEl.textContent = username || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                logoutBtn.style.display = 'flex';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
                protectedContent.forEach(el => el.style.display = '');
                protectedNav.forEach(el => el.style.display = 'flex');
                protectedSidebar.forEach(el => el.style.display = 'flex'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º sidebar
                guestOnly.forEach(el => el.style.display = 'none');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
                document.getElementById('welcomeTitle').textContent = `–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${username}!`;
                document.getElementById('welcomeSubtitle').textContent = '–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞';

                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥—Ä—É–∑–µ–π
                loadFriends();
                loadFriendRequests();
            } else {
                // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å —Å body
                document.body.classList.remove('authenticated');

                // –°–∫—Ä—ã–≤–∞–µ–º sidebar (–¥–æ–±–∞–≤–ª—è–µ–º guest-mode)
                appContainer.classList.add('guest-mode');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                statusIndicator.className = 'status-indicator offline';
                statusText.textContent = '–ù–µ –≤ —Å–µ—Ç–∏';
                userNameEl.textContent = '–ì–æ—Å—Ç—å';
                logoutBtn.style.display = 'none';
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
                protectedContent.forEach(el => el.style.display = 'none');
                protectedNav.forEach(el => el.style.display = 'none');
                protectedSidebar.forEach(el => el.style.display = 'none'); // –°–∫—Ä—ã–≤–∞–µ–º sidebar
                guestOnly.forEach(el => el.style.display = '');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
                document.getElementById('welcomeTitle').textContent = '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Micro Chat';
                document.getElementById('welcomeSubtitle').textContent = '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—â–µ–Ω–∏—è';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
                switchAuthTab('login');
            }
        }
        
        // –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            updateAuthStatus();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º
            document.getElementById('loginForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ö–æ–¥–∞ –∏–∑ app.js
                console.log('–õ–æ–≥–∏–Ω:', document.getElementById('login_email').value);
            });
            
            document.getElementById('registerForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ app.js
                console.log('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:', document.getElementById('reg_username').value);
            });
        });
    </script>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="toast-container"></div>
</body>
</html>